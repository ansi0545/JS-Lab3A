<!DOCTYPE html>
<html>
<body>

<h2>Array med unika slumpmässiga tal</h2>
<p id="randomArray"></p>
<p id="sortedArray"></p>

<h2>Formulär med JavaScript-validering</h2>
<form id="jsForm">
    Användarnamn: <input type="text" id="username"><br>
    Lösenord: <input type="password" id="password"><br>
    Bekräfta lösenord: <input type="password" id="confirmPassword"><br>
    E-post: <input type="text" id="email"><br> <!-- Change type to "text" -->
    Jag accepterar villkoren: <input type="checkbox" id="terms"><br>
    <input type="submit" value="Registrera">
</form>
<p id="jsFormError"></p>

<h2>Formulär med HTML5-validering</h2>
<form id="htmlForm">
  Användarnamn: <input type="text" id="htmlUsername"><br>
  Lösenord: <input type="password" id="htmlPassword"><br>
  E-post: <input type="email" id="htmlEmail"><br>
  Jag accepterar villkoren: <input type="checkbox" id="htmlTerms"><br>
  <input type="submit" value="Registrera">
</form>
<p id="htmlFormError"></p>

<script>
// Funktion för att generera ett slumpmässigt tal mellan min och max
function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

// Funktion för att skapa en array med unika slumpmässiga tal
function createRandomArray() {
    let arr = [];
    while (arr.length < 10) {
        let r = getRandomInt(1, 100);
        if (arr.indexOf(r) === -1) arr.push(r);
    }
    return arr;
}

// Skapa och skriv ut arrayen
const randomArray = createRandomArray();
document.getElementById("randomArray").innerHTML = "Osorterad array: " + randomArray;
randomArray.sort(function(a, b){return a-b});
document.getElementById("sortedArray").innerHTML = "Sorterad array: " + randomArray;

// Funktion för att validera JavaScript-formuläret
document.getElementById("jsForm").addEventListener("submit", function(event){
    event.preventDefault();
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirmPassword").value;
    const email = document.getElementById("email").value;
    const terms = document.getElementById("terms").checked;
    
    if (!username) {
        document.getElementById("jsFormError").innerHTML = "Användarnamn är obligatoriskt.";
        return;
    }
    if (!password) {
        document.getElementById("jsFormError").innerHTML = "Lösenord är obligatoriskt.";
        return;
    }
    if (password.length < 6) {
        document.getElementById("jsFormError").innerHTML = "Lösenordet måste vara minst 6 tecken.";
        return;
    }
    if (password !== confirmPassword) {
        document.getElementById("jsFormError").innerHTML = "Lösenorden matchar inte.";
        return;
    }
    if (!email) {
        document.getElementById("jsFormError").innerHTML = "E-post är obligatoriskt.";
        return;
    }
    // Use a regular expression to validate the email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        document.getElementById("jsFormError").innerHTML = "Ogiltig e-postadress.";
        return;
    }
    if (!terms) {
        document.getElementById("jsFormError").innerHTML = "Du måste acceptera villkoren.";
        return;
    }
    window.location.href = "thankyou.html";
});

// Add validation for the HTML form
document.getElementById("htmlForm").addEventListener("submit", function(event){
    event.preventDefault();
    const username = document.getElementById("htmlUsername").value;
    const password = document.getElementById("htmlPassword").value;
    const email = document.getElementById("htmlEmail").value;
    const terms = document.getElementById("htmlTerms").checked;
    
    if (!username) {
        document.getElementById("htmlFormError").innerHTML = "Användarnamn är obligatoriskt.";
        return;
    }
    if (!password) {
        document.getElementById("htmlFormError").innerHTML = "Lösenord är obligatoriskt.";
        return;
    }
    if (password.length < 6) {
        document.getElementById("htmlFormError").innerHTML = "Lösenordet måste vara minst 6 tecken.";
        return;
    }
    if (!email) {
        document.getElementById("htmlFormError").innerHTML = "E-post är obligatoriskt.";
        return;
    }
    // Use a regular expression to validate the email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        document.getElementById("htmlFormError").innerHTML = "Ogiltig e-postadress.";
        return;
    }
    if (!terms) {
        document.getElementById("htmlFormError").innerHTML = "Du måste acceptera villkoren.";
        return;
    }
    window.location.href = "thankyou.html";
});
</script>

</body>
</html>